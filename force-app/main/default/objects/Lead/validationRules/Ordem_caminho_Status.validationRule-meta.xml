<?xml version="1.0" encoding="UTF-8"?>
<ValidationRule xmlns="http://soap.sforce.com/2006/04/metadata">
    <fullName>Ordem_caminho_Status</fullName>
    <active>true</active>
    <description>Verifica se a ordem do caminho esta sendo seguida</description>
    <errorConditionFormula>AND(
    CONTAINS(RecordType.DeveloperName, &quot;Consultor&quot;),
    ISCHANGED(Status),
    OR(
        AND(
            ISPICKVAL(Status, &quot;Novo&quot;),
            NOT(ISPICKVAL(PRIORVALUE(Status), &quot;&quot;))
        ),
        AND(
            ISPICKVAL(Status, &quot;Trabalhando&quot;),
            NOT(
                OR(
                    ISPICKVAL(PRIORVALUE(Status), &quot;Novo&quot;),
                    ISPICKVAL(PRIORVALUE(Status), &quot;Unqualified&quot;)
                )
            )
        ),
        AND(
            ISPICKVAL(Status, &quot;Aguardando Pagamento&quot;),
            NOT(ISPICKVAL(PRIORVALUE(Status), &quot;Trabalhando&quot;))
        ),
        AND(
            ISPICKVAL(Status, &quot;Qualified&quot;),
            NOT(ISPICKVAL(PRIORVALUE(Status), &quot;Aguardando Pagamento&quot;))
        )
    )
)</errorConditionFormula>
    <errorMessage>Sequencia do caminho incorreta! Favor seguir com a pr√≥xima etapa.</errorMessage>
</ValidationRule>
