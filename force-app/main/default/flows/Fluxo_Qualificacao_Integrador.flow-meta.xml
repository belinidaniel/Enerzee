<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>61.0</apiVersion>
    <areMetricsLoggedToDataCloud>false</areMetricsLoggedToDataCloud>
    <constants>
        <description>Id do tipo de registro de conta: Parceiro</description>
        <name>Parceiro</name>
        <dataType>String</dataType>
        <value>
            <stringValue>0125e000000S2IF</stringValue>
        </value>
    </constants>
    <constants>
        <name>Perfil_parceiro</name>
        <dataType>String</dataType>
        <value>
            <stringValue>00e5e000000nF9I</stringValue>
        </value>
    </constants>
    <constants>
        <description>Id do tipo de registro de lead: Qualificação de consultores</description>
        <name>Qualificacao_de_consultores</name>
        <dataType>String</dataType>
        <value>
            <stringValue>012U50000006BK9</stringValue>
        </value>
    </constants>
    <decisions>
        <name>conta_parceiro</name>
        <label>É conta parceiro?</label>
        <locationX>1898</locationX>
        <locationY>492</locationY>
        <defaultConnectorLabel>Não</defaultConnectorLabel>
        <rules>
            <name>conta_parceiro_sim</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Account.IsPartner</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Criar_usuario_parceiro</targetReference>
            </connector>
            <label>Sim</label>
        </rules>
    </decisions>
    <decisions>
        <name>Copia_de_Tipo_de_Registro</name>
        <label>Cópia de Tipo de Registro</label>
        <locationX>2096</locationX>
        <locationY>384</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Copia_de_Qualifica_o_de_Integradores</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>Copia_de_Obt_m_RecordType_Qualifica_o_de_Integradores.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>Copia_de_Obt_m_RecordType_Qualifica_o_de_Integradores.Id</elementReference>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Integrador Aprovado</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>conta_parceiro</targetReference>
            </connector>
            <label>Cópia de Qualificação de Integradores</label>
        </rules>
    </decisions>
    <decisions>
        <name>Deseja_ser_consultor</name>
        <label>Deseja ser consultor?</label>
        <locationX>842</locationX>
        <locationY>1356</locationY>
        <defaultConnectorLabel>Não</defaultConnectorLabel>
        <rules>
            <name>Ser_consultor_sim</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.DesejaSeTornarConsultor__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>RecordType_Qualificacao_de_Consultores</targetReference>
            </connector>
            <label>Sim</label>
        </rules>
    </decisions>
    <decisions>
        <name>has_Elaborar_Contrato_do_Integrador</name>
        <label>has Elaborar Contrato do Integrador</label>
        <locationX>50</locationX>
        <locationY>1140</locationY>
        <defaultConnector>
            <targetReference>TAREFA_ElaborarContratodoIntegrador</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Outcome_1_of_has_Elaborar_Contrato_do_Integrador</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>get_task_Elaborar_Contrato_do_Integrador</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <label>Outcome 1 of has Elaborar Contrato do Integrador</label>
        </rules>
    </decisions>
    <decisions>
        <name>Status</name>
        <label>Status</label>
        <locationX>644</locationX>
        <locationY>816</locationY>
        <defaultConnectorLabel>Resultado padrão</defaultConnectorLabel>
        <rules>
            <name>Elaboracao_do_Contrato</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Elaboração do Contrato</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Atualizar_Proprietario_Caso</targetReference>
            </connector>
            <label>Elaboração do Contrato</label>
        </rules>
        <rules>
            <name>Enviado_Aguadando_Assinatura</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Enviado/Aguardando Assinatura</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Criar_conta</targetReference>
            </connector>
            <label>Enviado/Aguadando Assinatura</label>
        </rules>
        <rules>
            <name>Integrador_Aprovado</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Status</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Integrador Aprovado</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Atualizar_conta</targetReference>
            </connector>
            <label>Integrador Aprovado</label>
        </rules>
    </decisions>
    <decisions>
        <name>Tipo_de_Registro</name>
        <label>Tipo de Registro</label>
        <locationX>1073</locationX>
        <locationY>384</locationY>
        <defaultConnectorLabel>Default Outcome</defaultConnectorLabel>
        <rules>
            <name>Qualificacao_de_Integradores</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>RecordType_Qualificacao_de_Integradores.Id</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.RecordTypeId</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <elementReference>RecordType_Qualificacao_de_Integradores.Id</elementReference>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Fila_de_Contratos</targetReference>
            </connector>
            <label>Qualificação de Integradores</label>
        </rules>
    </decisions>
    <description>Fluxo de qualificação de integrador</description>
    <environments>Default</environments>
    <formulas>
        <name>Alias</name>
        <dataType>String</dataType>
        <expression>LOWER(
    LEFT({!FirstName}, 1) &amp; 
    LEFT({!LastName}, 7)
)</expression>
    </formulas>
    <formulas>
        <name>contractFml</name>
        <dataType>Number</dataType>
        <expression>if({!get_contract.ContractNumber__c} &gt; 0, {!get_contract.ContractNumber__c} + 1, 1)</expression>
        <scale>2</scale>
    </formulas>
    <formulas>
        <name>FirstName</name>
        <dataType>String</dataType>
        <expression>LEFT(LEFT({!$Record.NomeIntegradorWeb__c}, FIND(&quot; &quot;, {!$Record.NomeIntegradorWeb__c}) - 1), 40)</expression>
    </formulas>
    <formulas>
        <name>LastName</name>
        <dataType>String</dataType>
        <expression>LEFT(MID({!$Record.NomeIntegradorWeb__c}, FIND(&quot; &quot;, {!$Record.NomeIntegradorWeb__c}) + 1, LEN({!$Record.NomeIntegradorWeb__c}) - FIND(&quot; &quot;, {!$Record.NomeIntegradorWeb__c})), 80)</expression>
    </formulas>
    <formulas>
        <name>Name</name>
        <dataType>String</dataType>
        <expression>LEFT({!$Record.NomeIntegradorWeb__c}, 80)</expression>
    </formulas>
    <formulas>
        <name>UserName</name>
        <dataType>String</dataType>
        <expression>LEFT({!FirstName}, 1) &amp; &quot;.&quot; &amp; LEFT({!LastName}, 40 - LEN(LEFT({!FirstName}, 1)) - 1)</expression>
    </formulas>
    <formulas>
        <name>VencimentoEm24Horas</name>
        <dataType>DateTime</dataType>
        <expression>NOW() + 1</expression>
    </formulas>
    <interviewLabel>Fluxo Qualificação Integrador {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Fluxo Qualificação Integrador</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordCreates>
        <name>Create_contract</name>
        <label>Create contract</label>
        <locationX>446</locationX>
        <locationY>1140</locationY>
        <assignRecordIdToReference>contractID</assignRecordIdToReference>
        <connector>
            <targetReference>Atualizar_caso</targetReference>
        </connector>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>IDConta</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ContractNumber__c</field>
            <value>
                <elementReference>contractFml</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>StartDate</field>
            <value>
                <elementReference>$Flow.CurrentDate</elementReference>
            </value>
        </inputAssignments>
        <object>Contract</object>
    </recordCreates>
    <recordCreates>
        <description>Cria uma conta de parceiro</description>
        <name>Criar_conta</name>
        <label>Criar conta</label>
        <locationX>446</locationX>
        <locationY>924</locationY>
        <assignRecordIdToReference>IDConta</assignRecordIdToReference>
        <connector>
            <targetReference>get_contract</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Email__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.EmailIntegradorWeb__c</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Email__c</field>
            <value>
                <elementReference>$Record.EmailIntegradorWeb__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>$Record.NomeIntegradorWeb__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Phone</field>
            <value>
                <elementReference>$Record.SuppliedPhone</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>Parceiro</elementReference>
            </value>
        </inputAssignments>
        <object>Account</object>
        <operationMultMatchingRecords>UpdateLatestRecord</operationMultMatchingRecords>
        <operationOneMatchingRecord>UpdateAllRecords</operationOneMatchingRecord>
        <operationZeroMatchingRecords>AddRecord</operationZeroMatchingRecords>
    </recordCreates>
    <recordCreates>
        <description>Cria um novo integrador</description>
        <name>Criar_integrador</name>
        <label>Criar integrador</label>
        <locationX>842</locationX>
        <locationY>1140</locationY>
        <assignRecordIdToReference>IDIntegrador</assignRecordIdToReference>
        <connector>
            <targetReference>C_pia_1_de_Atualiza_Propriet_rio_do_Caso</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Email__c</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.EmailIntegradorWeb__c</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Agencia__c</field>
            <value>
                <elementReference>$Record.Agencia__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Ativo__c</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Bairro__c</field>
            <value>
                <elementReference>$Record.Bairro__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Banco__c</field>
            <value>
                <elementReference>$Record.Banco__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CEP__c</field>
            <value>
                <elementReference>$Record.CEP__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CNPJ__c</field>
            <value>
                <elementReference>$Record.CNPJ__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>CPF__c</field>
            <value>
                <elementReference>$Record.CPFRepresentante__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Celular__c</field>
            <value>
                <elementReference>$Record.TelefoneRepresentante__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Cidade__c</field>
            <value>
                <elementReference>$Record.Cidade__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Complemento__c</field>
            <value>
                <elementReference>$Record.Complemento__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Conta__c</field>
            <value>
                <elementReference>$Record.ContaCorrente__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Email__c</field>
            <value>
                <elementReference>$Record.EmailIntegradorWeb__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Estado__c</field>
            <value>
                <elementReference>$Record.Estado__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Logradouro__c</field>
            <value>
                <elementReference>$Record.Endereco__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Name</field>
            <value>
                <elementReference>$Record.NomeIntegradorWeb__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RazaoSocial__c</field>
            <value>
                <elementReference>$Record.RazaoSocial__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Telefone__c</field>
            <value>
                <elementReference>$Record.SuppliedPhone</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>TipoDeIntegrador__c</field>
            <value>
                <elementReference>$Record.TipoDeIntegrador__c</elementReference>
            </value>
        </inputAssignments>
        <object>Integradores__c</object>
        <operationMultMatchingRecords>UpdateLatestRecord</operationMultMatchingRecords>
        <operationOneMatchingRecord>UpdateAllRecords</operationOneMatchingRecord>
        <operationZeroMatchingRecords>AddRecord</operationZeroMatchingRecords>
    </recordCreates>
    <recordCreates>
        <description>Cria um novo Lead</description>
        <name>Criar_Lead</name>
        <label>Criar Lead</label>
        <locationX>710</locationX>
        <locationY>1572</locationY>
        <assignRecordIdToReference>IDLead</assignRecordIdToReference>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Email</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.EmailIntegradorWeb__c</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Company</field>
            <value>
                <elementReference>$Record.NomeIntegradorWeb__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Email</field>
            <value>
                <elementReference>$Record.EmailIntegradorWeb__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FirstName</field>
            <value>
                <elementReference>FirstName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>LastName</field>
            <value>
                <elementReference>LastName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Mensagem__c</field>
            <value>
                <elementReference>$Record.Description</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Phone</field>
            <value>
                <elementReference>$Record.SuppliedPhone</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Quem_Indicou__c</field>
            <value>
                <elementReference>$Record.NomeConsultorWeb__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>RecordTypeId</field>
            <value>
                <elementReference>Qualificacao_de_consultores</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Novo</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Title</field>
            <value>
                <stringValue>Qualificação de Consultor - {!$Record.NomeIntegradorWeb__c}</stringValue>
            </value>
        </inputAssignments>
        <object>Lead</object>
        <operationMultMatchingRecords>None</operationMultMatchingRecords>
        <operationOneMatchingRecord>None</operationOneMatchingRecord>
        <operationZeroMatchingRecords>AddRecord</operationZeroMatchingRecords>
    </recordCreates>
    <recordCreates>
        <name>Criar_usuario_parceiro</name>
        <label>Criar usuário</label>
        <locationX>1766</locationX>
        <locationY>600</locationY>
        <assignRecordIdToReference>IDUsuario</assignRecordIdToReference>
        <filterLogic>or</filterLogic>
        <filters>
            <field>Username</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.EmailIntegradorWeb__c</elementReference>
            </value>
        </filters>
        <filters>
            <field>Alias</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Alias</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>Alias</field>
            <value>
                <elementReference>Alias</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ContactId</field>
            <value>
                <elementReference>$Record.ContactId</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Email</field>
            <value>
                <elementReference>$Record.EmailIntegradorWeb__c</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>EmailEncodingKey</field>
            <value>
                <stringValue>UTF-8</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>FirstName</field>
            <value>
                <elementReference>FirstName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>IsActive</field>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>LanguageLocaleKey</field>
            <value>
                <stringValue>pt_BR</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>LastName</field>
            <value>
                <elementReference>LastName</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>LocaleSidKey</field>
            <value>
                <stringValue>pt_BR</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ProfileId</field>
            <value>
                <elementReference>Perfil_parceiro</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ReceivesAdminInfoEmails</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>ReceivesInfoEmails</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>TimeZoneSidKey</field>
            <value>
                <stringValue>America/Cuiaba</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Username</field>
            <value>
                <elementReference>$Record.EmailIntegradorWeb__c</elementReference>
            </value>
        </inputAssignments>
        <object>User</object>
        <operationMultMatchingRecords>None</operationMultMatchingRecords>
        <operationOneMatchingRecord>None</operationOneMatchingRecord>
        <operationZeroMatchingRecords>AddRecord</operationZeroMatchingRecords>
    </recordCreates>
    <recordCreates>
        <name>TAREFA_Anexar_Contrato_Integrador</name>
        <label>TAREFA - Anexar Contrato Integrador</label>
        <locationX>446</locationX>
        <locationY>1356</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Subject</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Anexar Contrato Assinado Pelo Integrador - {!$Record.NomeIntegradorWeb__c}</stringValue>
            </value>
        </filters>
        <filters>
            <field>OwnerId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Contrato.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>WhatId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>ActivityDate</field>
            <value>
                <elementReference>VencimentoEm24Horas</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>Contrato.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Open</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Subject</field>
            <value>
                <stringValue>Anexar Contrato Assinado Pelo Integrador - {!$Record.NomeIntegradorWeb__c}</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>WhatId</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <object>Task</object>
        <operationMultMatchingRecords>UpdateLatestRecord</operationMultMatchingRecords>
        <operationOneMatchingRecord>UpdateAllRecords</operationOneMatchingRecord>
        <operationZeroMatchingRecords>AddRecord</operationZeroMatchingRecords>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordCreates>
        <name>TAREFA_ElaborarContratodoIntegrador</name>
        <label>TAREFA - Elaborar Contrato do Integrador</label>
        <locationX>182</locationX>
        <locationY>1248</locationY>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Subject</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Elaborar Contrato do Integrador - {!$Record.NomeIntegradorWeb__c}</stringValue>
            </value>
        </filters>
        <filters>
            <field>OwnerId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>Contrato.Id</elementReference>
            </value>
        </filters>
        <filters>
            <field>WhatId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>ActivityDate</field>
            <value>
                <elementReference>VencimentoEm24Horas</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>Contrato.Id</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Status</field>
            <value>
                <stringValue>Open</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Subject</field>
            <value>
                <stringValue>Elaborar Contrato do Integrador - {!$Record.NomeIntegradorWeb__c}</stringValue>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>WhatId</field>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </inputAssignments>
        <object>Task</object>
        <operationMultMatchingRecords>UpdateLatestRecord</operationMultMatchingRecords>
        <operationOneMatchingRecord>UpdateAllRecords</operationOneMatchingRecord>
        <operationZeroMatchingRecords>AddRecord</operationZeroMatchingRecords>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordCreates>
    <recordLookups>
        <name>Contrato</name>
        <label>Usuário Contrato</label>
        <locationX>644</locationX>
        <locationY>600</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Fila_de_Coordenacao</targetReference>
        </connector>
        <filterLogic>or</filterLogic>
        <filters>
            <field>Username</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>contrato@enerzee.com.br</stringValue>
            </value>
        </filters>
        <filters>
            <field>Username</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>contrato@enerzee.com.br.uat</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>User</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Copia_de_Obt_m_RecordType_Qualifica_o_de_Integradores</name>
        <label>Cópia de Obtém RecordType Qualificação de Integradores</label>
        <locationX>2096</locationX>
        <locationY>276</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Copia_de_Tipo_de_Registro</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>QualificacaoDeIntegradores</stringValue>
            </value>
        </filters>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Case</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Fila_de_Contratos</name>
        <label>Fila de Contratos</label>
        <locationX>644</locationX>
        <locationY>492</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Contrato</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Type</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Queue</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Contratos</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Group</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>Fila_de_Coordenacao</name>
        <label>Fila de Coordenação</label>
        <locationX>644</locationX>
        <locationY>708</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Status</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Type</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Queue</stringValue>
            </value>
        </filters>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Coordenacao</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Group</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>get_contract</name>
        <label>get contract</label>
        <locationX>446</locationX>
        <locationY>1032</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Create_contract</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>ContractNumber__c</field>
            <operator>IsNull</operator>
            <value>
                <booleanValue>false</booleanValue>
            </value>
        </filters>
        <filters>
            <field>ContractNumber__c</field>
            <operator>GreaterThanOrEqualTo</operator>
            <value>
                <numberValue>0.0</numberValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Contract</object>
        <sortField>ContractNumber__c</sortField>
        <sortOrder>Desc</sortOrder>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>get_task_Elaborar_Contrato_do_Integrador</name>
        <label>get task Elaborar Contrato do Integrador</label>
        <locationX>50</locationX>
        <locationY>1032</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>has_Elaborar_Contrato_do_Integrador</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Subject</field>
            <operator>Contains</operator>
            <value>
                <stringValue>Elaborar Contrato do Integrador </stringValue>
            </value>
        </filters>
        <filters>
            <field>WhatId</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.Id</elementReference>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>Task</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>RecordType_Qualificacao_de_Consultores</name>
        <label>Obtém RecordType Qualificação de Consultores</label>
        <locationX>710</locationX>
        <locationY>1464</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Criar_Lead</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>QualificacaodeConsultores</stringValue>
            </value>
        </filters>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Lead</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordLookups>
        <name>RecordType_Qualificacao_de_Integradores</name>
        <label>Obtém RecordType Qualificação de Integradores</label>
        <locationX>1073</locationX>
        <locationY>276</locationY>
        <assignNullValuesIfNoRecordsFound>false</assignNullValuesIfNoRecordsFound>
        <connector>
            <targetReference>Tipo_de_Registro</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>DeveloperName</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>QualificacaoDeIntegradores</stringValue>
            </value>
        </filters>
        <filters>
            <field>SobjectType</field>
            <operator>EqualTo</operator>
            <value>
                <stringValue>Case</stringValue>
            </value>
        </filters>
        <getFirstRecordOnly>true</getFirstRecordOnly>
        <object>RecordType</object>
        <storeOutputAutomatically>true</storeOutputAutomatically>
    </recordLookups>
    <recordUpdates>
        <description>Atualiza caso com a conta recém criada</description>
        <name>Atualizar_caso</name>
        <label>Atualizar caso</label>
        <locationX>446</locationX>
        <locationY>1248</locationY>
        <connector>
            <targetReference>TAREFA_Anexar_Contrato_Integrador</targetReference>
        </connector>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>IDConta</elementReference>
            </value>
        </inputAssignments>
        <inputAssignments>
            <field>Contract__c</field>
            <value>
                <elementReference>contractID</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <description>Ativa como conta parceiro</description>
        <name>Atualizar_conta</name>
        <label>Atualizar conta</label>
        <locationX>842</locationX>
        <locationY>924</locationY>
        <connector>
            <targetReference>Atualizar_contato</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.AccountId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>IsPartner</field>
            <value>
                <booleanValue>true</booleanValue>
            </value>
        </inputAssignments>
        <object>Account</object>
    </recordUpdates>
    <recordUpdates>
        <description>Atualiza contato com a conta recém criada</description>
        <name>Atualizar_contato</name>
        <label>Atualizar contato</label>
        <locationX>842</locationX>
        <locationY>1032</locationY>
        <connector>
            <targetReference>Criar_integrador</targetReference>
        </connector>
        <filterLogic>and</filterLogic>
        <filters>
            <field>Id</field>
            <operator>EqualTo</operator>
            <value>
                <elementReference>$Record.ContactId</elementReference>
            </value>
        </filters>
        <inputAssignments>
            <field>AccountId</field>
            <value>
                <elementReference>IDConta</elementReference>
            </value>
        </inputAssignments>
        <object>Contact</object>
    </recordUpdates>
    <recordUpdates>
        <name>Atualizar_Proprietario_Caso</name>
        <label>Atualiza Proprietário do Caso</label>
        <locationX>50</locationX>
        <locationY>924</locationY>
        <connector>
            <targetReference>get_task_Elaborar_Contrato_do_Integrador</targetReference>
        </connector>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>Fila_de_Contratos.Id</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>C_pia_1_de_Atualiza_Propriet_rio_do_Caso</name>
        <label>Atualiza Proprietário do Caso</label>
        <locationX>842</locationX>
        <locationY>1248</locationY>
        <connector>
            <targetReference>Deseja_ser_consultor</targetReference>
        </connector>
        <inputAssignments>
            <field>OwnerId</field>
            <value>
                <elementReference>Fila_de_Coordenacao.Id</elementReference>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <start>
        <locationX>1458</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>RecordType_Qualificacao_de_Integradores</targetReference>
        </connector>
        <filterFormula>{!$User.Username} != &apos;integracao@lab065.com.uat.test&apos;</filterFormula>
        <object>Case</object>
        <recordTriggerType>Update</recordTriggerType>
        <scheduledPaths>
            <name>Criar_usuario</name>
            <connector>
                <targetReference>Copia_de_Obt_m_RecordType_Qualifica_o_de_Integradores</targetReference>
            </connector>
            <label>Criar usuário</label>
            <offsetNumber>1</offsetNumber>
            <offsetUnit>Minutes</offsetUnit>
            <recordField>ClosedDate</recordField>
            <timeSource>RecordField</timeSource>
        </scheduledPaths>
        <triggerType>RecordAfterSave</triggerType>
    </start>
    <status>Active</status>
    <variables>
        <name>contractID</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
    </variables>
    <variables>
        <name>IDConta</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <name>IDIntegrador</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <name>IDLead</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
    <variables>
        <name>IDUsuario</name>
        <dataType>String</dataType>
        <isCollection>false</isCollection>
        <isInput>false</isInput>
        <isOutput>false</isOutput>
        <value>
            <stringValue></stringValue>
        </value>
    </variables>
</Flow>
