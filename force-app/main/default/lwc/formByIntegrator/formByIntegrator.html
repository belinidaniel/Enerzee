<template>
    <template if:true={showSuccessMessage}>
        <div class="success-message">
            Seu formulário foi submetido com sucesso!
        </div>
    </template>
            
    <template if:true={isLoading}>
        <c-custom-spinner message="Estamos enviando seus documentos por favor aguarde"></c-custom-spinner>
    </template>

    <template if:false={showSuccessMessage}>
        <template if:false={isLoading}>
            <lightning-card>
                <p class="title-page">Seja um Integrador</p>
        
                <!-- Dados da Empresa -->
                <h2 class="slds-text-heading_medium" style="padding-top:20px">1. Dados da Empresa</h2>
                <div class="slds-grid slds-wrap">
                    <lightning-input
                        class="slds-col slds-size_2-of-2"
                        label="Razão Social"
                        name="razaoSocial"
                        required
                        onchange={handleInputChange}
                    ></lightning-input>
                    <lightning-input
                        class="slds-col slds-size_2-of-2"
                        label="Nome Fantasia"
                        name="nomeFantasia"
                        required
                        onchange={handleInputChange}
                    ></lightning-input>
                    <lightning-input
                        class="slds-col slds-size_2-of-2"
                        label="CNPJ"
                        name="cnpj"
                        required
                        onchange={handleInputChange}
                    ></lightning-input>
                    <lightning-input
                        class="slds-col slds-size_2-of-6"
                        label="Endereço"
                        name="endereco"
                        required
                        onchange={handleInputChange}
                    ></lightning-input>
                    <lightning-input
                        class="slds-col slds-size_2-of-6"
                        label="Bairro"
                        name="bairro"
                        required
                        onchange={handleInputChange}
                    ></lightning-input>
                    <lightning-input
                        class="slds-col slds-size_2-of-6"
                        label="Cidade"
                        name="cidade"
                        required
                        onchange={handleInputChange}
                    ></lightning-input>
                    <lightning-combobox
                        class="slds-col slds-size_4-of-6"
                        label="Estado"
                        name="estado"
                        placeholder="Selecione o Estado"
                        options={stateOptions}
                        required
                        onchange={handleInputChange}
                    ></lightning-combobox>
                    <!-- <lightning-input
                        class="slds-col slds-size_1-of-6"
                        label="País"
                        name="pais"
                        required
                        onchange={handleInputChange}
                    ></lightning-input> -->
                    <lightning-input
                        class="slds-col slds-size_2-of-6"
                        label="CEP"
                        name="cep"
                        required
                        onchange={handleInputChange}
                    ></lightning-input>
                    <lightning-input
                        class="slds-col slds-size_1-of-2"
                        label="Telefone"
                        name="telefone"
                        required
                        onchange={handleInputChange}
                    ></lightning-input>
                    <lightning-input
                        class="slds-col slds-size_1-of-2"
                        label="E-mail"
                        name="email"
                        type="email"
                        required
                        onchange={handleInputChange}
                    ></lightning-input>
                </div>
        
                <!-- Dados do Representante Legal -->
                <h2 class="slds-text-heading_medium" style="padding-top:20px">2. Dados do Representante Legal</h2>
                <div class="slds-grid slds-wrap">
                    <lightning-input
                        class="slds-col slds-size_2-of-2"
                        label="Nome do Representante Legal"
                        name="nomeRepresentante"
                        required
                        onchange={handleInputChange}
                    ></lightning-input>
                    <lightning-input
                    class="slds-col slds-size_2-of-2"
                    label="CPF"
                    name="cpfRepresentante"
                    required
                    onchange={handleInputChange}
                ></lightning-input>
                    <lightning-input
                        class="slds-col slds-size_2-of-6"
                        label="Endereço"
                        name="enderecoRepresentante"
                        onchange={handleInputChange}
                    ></lightning-input>
                    <lightning-input
                        class="slds-col slds-size_2-of-6"
                        label="Bairro"
                        name="bairroRepresentante"
                        onchange={handleInputChange}
                    ></lightning-input>
                    <lightning-input
                        class="slds-col slds-size_2-of-6"
                        label="Cidade"
                        name="cidadeRepresentante"
                        onchange={handleInputChange}
                    ></lightning-input>
                    <lightning-input
                        class="slds-col slds-size_2-of-2"
                        label="Complemento"
                        name="complementoRepresentante"
                        onchange={handleInputChange}
                    ></lightning-input>
                    <lightning-combobox
                        class="slds-col slds-size_4-of-6"
                        label="Estado"
                        name="estadoRepresentante"
                        placeholder="Selecione o Estado"
                        options={stateOptions}
                        onchange={handleInputChange}
                    ></lightning-combobox>
                    <lightning-input
                        class="slds-col slds-size_2-of-6"
                        label="CEP"
                        name="cepRepresentante"
                        onchange={handleInputChange}
                    ></lightning-input>
                    <lightning-input
                        class="slds-col slds-size_1-of-2"
                        label="Telefone"
                        name="telefoneRepresentante"
                        required
                        onchange={handleInputChange}
                    ></lightning-input>
                    <lightning-input
                        class="slds-col slds-size_1-of-2"
                        label="E-mail"
                        name="emailRepresentante"
                        type="email"
                        required
                        onchange={handleInputChange}
                    ></lightning-input>
                </div>
        
                <!-- Dados Bancários da Empresa -->
                <h2 class="slds-text-heading_medium" style="padding-top:20px">3. Dados Bancários da Empresa (PJ)</h2>
                <div class="slds-grid slds-wrap">
                    <lightning-input
                        class="slds-col slds-size_2-of-6"
                        label="Banco"
                        name="banco"
                        required
                        onchange={handleInputChange}
                    ></lightning-input>
                    <lightning-input
                        class="slds-col slds-size_2-of-6"
                        label="Agência"
                        name="agencia"
                        required
                        onchange={handleInputChange}
                    ></lightning-input>
                    <lightning-input
                        class="slds-col slds-size_2-of-6"
                        label="Conta Corrente"
                        name="contaCorrente"
                        required
                        onchange={handleInputChange}
                    ></lightning-input>
                </div>
                
                <h2 class="slds-text-heading_medium" style="padding-top:20px">4. Seja Consultor</h2>
                <div class="slds-grid slds-wrap">
                    <div class="slds-col slds-size_2-of-2">
                        <lightning-combobox
                            label="Gostaria de ser consultor?"
                            name="beConsultant"
                            placeholder="Gostaria de ser consultor"
                            options={yesNoOptions}
                            onchange={handleInputChange}
                        ></lightning-combobox>
                    </div>
                    <template if:true={showConsultorFields}>
                        <div class="slds-col slds-size_1-of-2">
                            <lightning-input
                                label="Consultor que te indicou"
                                name="consultEndicator"
                                onchange={handleInputChange}
                            ></lightning-input>
                        </div>
                        <div class="slds-col slds-size_1-of-2">
                            <lightning-input
                                label="Email do consultor que indicou"
                                name="emailConsult"
                                type="email"
                                onchange={handleInputChange}
                            ></lightning-input>
                        </div>
                    </template>
                </div>
                <h2 class="slds-text-heading_medium" style="padding-top:20px">5. Anexos</h2>
                <div class="slds-grid slds-wrap" >
                            <!-- Attachments -->
                    <div class="slds-col slds-size_1-of-2">
                        <lightning-input
                            type="file"
                            label="Certidão Negativa Trabalhista"
                            name="certidaoTrabalhista"
                            accept=".pdf,.docx,image/*"
                            multiple=true
                            onchange={handleFileChange}
                        ></lightning-input>
                        <div class="file-label">
                            <template if:true={uploadedFiles.certidaoTrabalhista}>
                                <strong>Arquivo:</strong> {uploadedFiles.certidaoTrabalhista}
                            </template>
                        </div>
                    </div>
        
                    <div class="slds-col slds-size_1-of-2">
                        <lightning-input
                            type="file"
                            label="Certidão Negativa Cível"
                            name="certidaoCivel"
                            accept=".pdf,.docx,image/*"
                            multiple=true
                            onchange={handleFileChange}
                        ></lightning-input>
                        <div class="file-label">
                            <template if:true={uploadedFiles.certidaoCivel}>
                                <strong>Arquivo:</strong> {uploadedFiles.certidaoCivel}
                            </template>
                        </div>
                    </div>
        
                    <div class="slds-col slds-size_1-of-2">
                        <lightning-input
                            type="file"
                            label="Certidão Negativa Criminal"
                            name="certidaoCriminal"
                            accept=".pdf,.docx,image/*"
                            multiple=true
                            onchange={handleFileChange}
                        ></lightning-input>
                        <div class="file-label">
                            <template if:true={uploadedFiles.certidaoCriminal}>
                                <strong>Arquivo:</strong> {uploadedFiles.certidaoCriminal}
                            </template>
                        </div>
                    </div>
        
                    <div class="slds-col slds-size_1-of-2">
                        <lightning-input
                            type="file"
                            label="Certidão Negativa Federal"
                            name="certidaoFederal"
                            accept=".pdf,.docx,image/*"
                            multiple=true
                            onchange={handleFileChange}
                        ></lightning-input>
                        <div class="file-label">
                            <template if:true={uploadedFiles.certidaoFederal}>
                                <strong>Arquivo:</strong> {uploadedFiles.certidaoFederal}
                            </template>
                        </div>
                    </div>
        
                    <div class="slds-col slds-size_1-of-2">
                        <lightning-input
                            type="file"
                            label="Contrato Social e Última Alteração"
                            name="contratoSocial"
                            accept=".pdf,.docx,image/*"
                            multiple=true
                            onchange={handleFileChange}
                        ></lightning-input>
                        <div class="file-label">
                            <template if:true={uploadedFiles.contratoSocial}>
                                <strong>Arquivo:</strong> {uploadedFiles.contratoSocial}
                            </template>
                        </div>
                    </div>
        
                    <div class="slds-col slds-size_1-of-2">
                        <lightning-input
                            type="file"
                            label="Documentos Pessoais"
                            name="docPessoais"
                            accept=".pdf,.docx,image/*"
                            multiple=true
                            onchange={handleFileChange}
                        ></lightning-input>
                        <div class="file-label">
                            <template if:true={uploadedFiles.docPessoais}>
                                <strong>Arquivo:</strong> {uploadedFiles.docPessoais}
                            </template>
                        </div>
                    </div>
        
                    <div class="slds-col slds-size_1-of-2">
                        <lightning-input
                            type="file"
                            label="Portfólio da Empresa"
                            name="portfolioEmpresa"
                            accept=".pdf,.docx,image/*"
                            multiple=true
                            onchange={handleFileChange}
                        ></lightning-input>
                        <div class="file-label">
                            <template if:true={uploadedFiles.portfolioEmpresa}>
                                <strong>Arquivo:</strong> {uploadedFiles.portfolioEmpresa}
                            </template>
                        </div>
                    </div>
        
        
                    <div class="slds-col slds-size_1-of-2">
                        <lightning-input
                            type="file"
                            label="Comprovante de endereço"
                            name="comprovanteEndereco"
                            accept=".pdf,.docx,image/*"
                            multiple=true
                            onchange={handleFileChange}
                        ></lightning-input>
                        <div class="file-label">
                            <template if:true={uploadedFiles.comprovanteEndereco}>
                                <strong>Arquivo:</strong> {uploadedFiles.comprovanteEndereco}
                            </template>
                        </div>
                    </div>    
                    <div class="slds-col slds-size_1-of-2">
                        <lightning-input
                            type="file"
                            label="Fotos de Instalações"
                            name="fotosInstalacoes"
                            accept=".pdf,.docx,image/*"
                            multiple=true
                            onchange={handleFileChange}
                        ></lightning-input>
                        <div class="file-label">
                            <template if:true={uploadedFiles.fotosInstalacoes}>
                                <strong>Arquivo:</strong> {uploadedFiles.fotosInstalacoes}
                            </template>
                        </div>
                    </div>
                </div>
        
                <div style="text-align: center; width: 100%; margin-top: 20px;">
                    <button
                        class="slds-col slds-size_1-of-1 btn-success"
                        label="Enviar"
                        onclick={handleSubmit}
                    >
                        Enviar
                    </button>
                </div>
            </lightning-card>
        </template>
    </template>
</template>