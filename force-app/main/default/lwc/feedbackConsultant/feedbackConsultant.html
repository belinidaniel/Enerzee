<template>
    <div class="lightning-card card">
        <lightning-card class="slds-m-around_medium">
            <!-- Conditional Rendering Based on Feedback Submission -->
            <template if:true={feedbackSubmitted}>
                <div class="slds-p-around_medium slds-align_absolute-center">
                    <p>Seu feedback foi recebido com sucesso! Agradecemos muito por participar da nossa pesquisa e ajudar a melhorar nossos serviços.</p>
                </div>
            </template>
            <template if:false={feedbackSubmitted}>
                <!-- Opportunity Information -->
                <div class="section-2 opportunity-info">
                    <p><strong>Nome da Oportunidade:</strong> {opportunityName}</p>
                    <p><strong>Proprietário:</strong> {opportunityOwner}</p>
                </div>
                <div class="section opportunity-info">
                    <p><strong>Numero da Proposta:</strong> {opportunityProposalNumber}</p>
                </div>
        


                <!-- NPS Score Section -->
                <div class="section nps-rating slds-grid slds-wrap">
                    <div class="slds-col slds-size_1-of-1">
                        <p>
                            Gostaríamos de solicitar seu feedback sobre a atuação do closer durante a proposta {opportunityName} em que você é proprietário. Sua opinião é fundamental para aprimorarmos nosso processo e garantirmos um atendimento cada vez melhor.
                        </p>
                    </div>
                    <div style="text-align: center;" class="slds-col slds-size_1-of-1">
                        <template for:each={ratingOptions} for:item="option">
                            <span key={option.value} class={option.className} data-value={option.value} onclick={handleStarClick}>
                                &#9733;  <!-- Star character -->
                            </span>
                        </template>
                    </div>
                </div>
        
                <!-- Observations Text Area -->
                <div class="section custom-textarea">
                    <textarea placeholder="Deixe seu comentário aqui..." onchange={handleNoteChange}>{note}</textarea>
                </div>
        
                <!-- Submit Button -->
                <div style="text-align: center;">
                    <lightning-button label="Submeter" onclick={handleSubmit}></lightning-button>
                </div>
            </template>

        </lightning-card>
    </div>
</template>